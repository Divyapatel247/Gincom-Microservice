<div class="min-h-screen flex flex-col md:flex-row w-full">
  <!-- Sidebar -->
  <div class="w-full md:w-1/4 p-2 sm:p-4 bg-gray-50 rounded-xl shadow-lg border border-gray-200 md:sticky md:top-6 md:max-h-[calc(100vh-3rem)] md:overflow-auto">
    <h2 class="text-base sm:text-lg md:text-xl font-bold mb-2 sm:mb-4 md:mb-6 text-gray-900 tracking-tight">
      Categories
    </h2>
    <ul class="space-y-1 sm:space-y-2 md:space-y-3 list-none p-0">
      <li
        *ngFor="let category of categories"
        [routerLink]="category ? '/customer/product/' + category : '/customer/product'"
        [ngClass]="{
          'bg-[#abd373] text-white shadow-md': selectedCategory === category,
          'bg-white text-gray-700 hover:bg-gray-100 hover:text-gray-900': selectedCategory !== category
        }"
        class="p-2 sm:p-3 md:p-3 rounded-lg cursor-pointer transition-all duration-300 ease-in-out transform hover:scale-105 border border-gray-100 text-sm sm:text-base md:text-base"
      >
        {{ category ? category : 'All Categories' }}
      </li>
    </ul>
  </div>

  <!-- Product Grid -->
  <div class="w-full md:w-3/4 flex-1 p-2 sm:p-4">
    <div
      class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-2 sm:gap-4 md:gap-6 w-full"
    >
      <div
        *ngFor="let item of products"
        class="m-1 sm:m-2 group px-2 sm:px-4 md:px-6 py-2 sm:py-4 md:py-5 bg-white/10 rounded-lg flex flex-col items-center justify-center gap-1 sm:gap-2 relative after:absolute after:h-full after:bg-[#abd373] z-20 shadow-lg after:-z-20 after:w-full after:inset-0 after:rounded-lg transition-all duration-300 hover:transition-all hover:duration-300 after:transition-all after:duration-500 after:hover:transition-all after:hover:duration-500 overflow-hidden cursor-pointer after:-translate-y-full after:hover:translate-y-0 [&_p]:delay-200 [&_p]:transition-all"
      >
        <a routerLink="/customer/product-detail/{{ item.id }}" class="w-full flex flex-col items-center">
          <div class="relative flex justify-center items-center p-2 sm:p-3 md:p-4">
            <img
              [src]="item.thumbnail"
              [alt]="item.title + ' image'"
              class="w-20 sm:w-28 md:w-32 lg:w-36 aspect-square text-[#abd373] group-hover:bg-gray-800 text-2xl sm:text-3xl md:text-4xl rounded-full p-1 sm:p-2 transition-all duration-300 group-hover:transition-all group-hover:duration-300 group-hover:-translate-y-1 mx-auto"
            />
            <span
              class="absolute top-1 sm:top-2 md:top-2 left-1 sm:left-2 md:left-2 bg-[#e6ebdf] text-gray-800 text-xs sm:text-sm font-semibold px-1 sm:px-2 py-0.5 rounded-full"
            >
              {{ item.categoryName }}
            </span>
          </div>
          <p
            class="cardtxt font-semibold text-gray-800 tracking-wider group-hover:text-gray-700 text-sm sm:text-base md:text-lg text-center"
          >
            {{ item.title }}
          </p>
          <div class="flex justify-center items-center mt-1 sm:mt-2">
            <div class="flex items-center space-x-0.5 sm:space-x-1">
              <ng-container *ngFor="let star of getStars(item?.rating ?? 0)">
                <svg
                  class="w-3 sm:w-4 md:w-5 h-3 sm:h-4 md:h-5"
                  [ngClass]="star <= (item?.rating ?? 0) ? 'text-yellow-400' : 'text-gray-300'"
                  viewBox="0 0 20 20"
                  fill="currentColor"
                  aria-hidden="true"
                >
                  <path d="M10 15l-5.878 3.09 1.123-6.545L.49 7.545l6.564-.955L10 1l2.946 5.59 6.564.955-4.756 4.545 1.123 6.545z" />
                </svg>
              </ng-container>
            </div>
            <span class="bg-pastel-yellow text-gray-800 text-xs sm:text-sm font-semibold px-1 sm:px-2 py-0.5 rounded ml-1">
              {{ item.rating }}
            </span>
          </div>
          <p
            class="ordernow-text text-[#abd373] font-bold group-hover:text-gray-800 text-xs sm:text-sm md:text-base mt-1 sm:mt-2 md:mt-3"
          >
            {{ item.price | currency }}
          </p>
        </a>
      </div>
    </div>
  </div>
</div>